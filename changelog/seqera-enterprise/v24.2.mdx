---
title: Seqera Enterprise v24.2
date: 2024-12-18
tags: [seqera enterprise]
---

Seqera Enterprise version 24.2 introduces new Data Studios features, global Nextflow configuration at the compute environment level, Azure service principal and managed identity authentication support, and a number of bug fixes and performance enhancements.

## New features and improvements

### Data Studios
 
 - Data Studios now supports [custom environments](https://docs.seqera.io/platform/24.2/data_studios/custom-envs):
    - Create custom analysis environments, or link to public or private ECR containers. 
    - Custom environment build events are now added to the audit log. The events `data_studio_session_build_started` and `data_studio_session_build_failed` are added to the audit log events table.
- Data Studios dashboard:
    -  A new [dashboard](https://docs.seqera.io/platform/24.2/monitoring/dashboard#data-studios) provides information about Data Studios usage to help you manage your resources.
- Hybrid compute enviroments are now supported in Data Studios. You can optionally allocate GPUs to a session if the compute environment includes GPUs.
- NVMe support added.
- Browse a studio's mounted data directly from the studio details page using Data Explorer.

### Nextflow configuration updates

- Added a [Global Nextflow config](https://docs.seqera.io/platform/24.2/launch/advanced#nextflow-config-file) field to all compute environments. This field allows you to define Nextflow configuration values in the compute environment that are then pre-filled in the pipeline Nextflow config file field during launch. 
- Implemented custom launch container logic to specify a custom container to run Nextflow when submitting a workflow execution. This is only available via API. 

### Azure Batch: Entra service principal and managed identity authentication support

- Authentication using [Microsoft Entra service principals](https://docs.seqera.io/platform/24.2/compute-envs/azure-batch#credentials) is now supported in manual Azure Batch compute environments. This provides a secure alternative to long-lived access keys, as service principals enable role-based access control with more precise permissions.
- You can now also use a [managed identity](https://docs.seqera.io/platform/24.2/compute-envs/azure-batch#managed-identity) in conjunction with your credentials (access keys or service principals) to authenticate Nextflow to Azure services. The combination of an Entra service principal and user-assigned managed identity offers enhanced security over access keys. Note that both authentication methods are only supported in manual Azure Batch compute environments. 

### Launchpad

- The new [Launch Form](https://docs.seqera.io/platform/24.2/launch/launchpad#launch-form) is now enabled by default. See [Core feature configuration](https://docs.seqera.io/platform/24.2/enterprise/configuration/overview#core-features) for options to disable the launch form per workspace or globally.

### Compute environments

- AWS Batch Forge compute environments now support Amazon Linux 2023. Previously, Batch Forge only created compute environments with Amazon Linux2. Seqera now supports [specifying Amazon Linux 2023 ECS-optimized AMIs](https://docs.seqera.io/platform/24.2/compute-envs/aws-batch#advanced-options) when you create AWS Batch compute environments. 
- The Google Life Sciences API will be deprecated in June 2025. A Google Life Sciences API deprecation notice has been added to the Seqera Platform UI. 
- Tag propagation has been added to the AWS Batch launch templates created by Batch Forge, to propagate resource labels to compute instances and storage volumes.

### Credentials 

- The Password field is no longer required for GitLab credentials, as public repositories only require an access token. Note that private repositories will require a credential with both a password and access token. 

### Settings

- Added flexibility for pipeline names in workspaces. Pipeline names must be unique at the workspace level for private workspaces, while shared workspaces require names to be unique at the organization level.

### General

- Refactor now reports file streaming over Agent connections directly to the browser.
- Input forms now support JSON schema draft 2020-12 features. Includes: Nested parameters, "anyOf", "allOf", and "oneOf" input form validation support, "dependantSchemas" initial support, and "if-then-else" support. This improves support of JSON schema and prevents form errors for unrecognized validations.
- ECS agent configuration variables have been added to set the timeout for several container actions:
   - `ECS_CONTAINER_CREATE_TIMEOUT=10m`: Timeout for creating a container.
   - `ECS_CONTAINER_STOP_TIMEOUT=10m`: Timeout for stopping a container. Increase to prevent Nextflow from being forcibly killed and leave running jobs.
   - `ECS_MANIFEST_PULL_TIMEOUT=10m`: Timeout for pulling a container manifest. This may be needed when pulling a Wave container with a long build time.
- Disable AWS and Google Batch spot auto retry: This disables the automatic retry of Batch jobs submitted by Nextflow in favour of using the classic Nextflow retry mechanism. This is because the Batch automatic retry is completely invisble to Seqera and the user. Nextflow retry gives better feedback and allows the user to have more control.
- Bump nf-launcher:j17-24.10.2.
- Upgrade to Angular 16.
- Security fixes: All security fixes for previous versions.

## Bug fixes

- Check if a workspace is disabled before fetching data links.
- Allow resume with compatible compute environments when using Tower Agent and `$TW_AGENT_WORKDIR` as working directory. 
- Fix input form view for private GitHub repositories using pipeline Quicklaunch.
- Fix default workspace secret selection when using pipeline Quicklaunch.
- In new launch form users with "Maintain" role and lower can edit resource labels when launching.
- Entra and `javax.mail` transitive dependency problem fixed.
- Shared pipelines without an associated compute environment now fallback to the workspace primary compute environment.
- Display initial mounted data when starting an existing Data Studio session.
- Add `managedIdentityId` to the API response payload when describing a compute environment.
- Send fetch schema request in `quicklaunchmode`, even if revision is empty.
- Fix search for task tags using underscores.
- Improve performance of queries reported as intensive on the RDS database. Added an index to the `tw_workflow(complete)` column, which improves the performance of the query that finds workflows with missing progress. Added an index to the `tw_workflow(status)` column conditionally; the index was already present in the `cloud.seqera.io` database, but not previously included in the database migration scripts.
- Avoid using master as the fallback pipeline revision, so that pipeline repositories without a master version don't return errors on Quicklaunch. 
- Update `lastUsed` on compute environment when creating a job for a Data Studios session.
- Enable task working directory navigation using Data Explorer in personal workspaces.
- Allow changing the working directory when launching a pipeline.
- Encode file names when requesting a download URL in Data Explorer.
- Fix report access issue for Nextflow CLI runs with `TOWER_CONTENT_URL` set.
- Fix NF schema nested object values being lost when switching to input form view. Remove processing of unsupported JSON schema types inside pipeline input form components.
- Show CORS modal when detecting an incorrect eTag configuration for Data Explorer, and update link to Seqera docs.

## Breaking changes and warnings

### Redisson properties deprecated

From this version of Seqera Platform, `redisson.*` configuration properties are deprecated. If you have set `redisson.*` properties directly previously, do the following:

- Replace `/redisson/*` references in AWS parameter store entries with `TOWER_REDIS_*`.
- Replace `redisson.*` references in `tower.yml` with `TOWER_REDIS_*`. You can set `TOWER_REDIS_*` values directly in the YAML file (for example, `TOWER_REDIS_URL: redis://...`) in `tower.yml`.

## Upgrade steps 

1. This version includes an update to the Platform Enterprise H8 cache. **Do not start the upgrade while any pipelines are in a `running` state as active run data may be lost.**
1. This version requires a database schema update. Make a backup of your Platform database prior to upgrade.
1. If you are upgrading from a version older than 23.4.1, update your installation to version [23.4.4](https://docs.seqera.io/changelog/seqera-enterprise/v23.4_major) first, before updating to 24.2 with the steps below.
1. For recommended Platform memory settings, add the following environment variable to your Platform configuration values (`tower.env`, `configmap.yml`, etc.):
    ```bash 
    JAVA_OPTS: -Xms1000M -Xmx2000M -XX:MaxDirectMemorySize=800m -Dio.netty.maxDirectMemory=0 -Djdk.nio.maxCachedBufferSize=262144
    ```
1. See [Upgrade installation](https://docs.seqera.io/platform/24.2/enterprise/upgrade) for installation upgrade guidance.

:::info
Docker Compose deployments require downtime while upgrading services. Restarting the application may take several minutes. See [Docker compose deployment](https://docs.seqera.io/platform/24.2/enterprise/docker-compose) for more information.

For Kubernetes deployments, apply the 24.2 `tower-cron.yml` to your cron pod and wait for the cron pod to be running before applying the `tower-svc.yml` to your backend pod and restarting the service. If the cron pod update is interrupted, you may need to restore the instance from your DB backup and start again. See [Kubernetes deployment](https://docs.seqera.io/platform/24.2/enterprise/kubernetes) for more information. 

For custom deployments with third-party services such as ArgoCD, [contact support](https://support.seqera.io) for assistance during upgrade. 
::: 
