---
title: Fusion v2.5.5
date: 2025-10-27
tags: [fusion]
---

### How to pin this version

```groovy
fusion {
  enabled = true
  containerConfigUrl = 'https://fusionfs.seqera.io/releases/v2.5.5-amd64.json'
}
```

:::info
For ARM64 CPU architecture, use `containerConfigUrl = 'https://fusionfs.seqera.io/releases/v2.5.5-arm64.json'`.
:::

## Feature updates and improvements

Release v2.5.5 with GCP snapshot support, critical race condition fixes, dependency updates, and improved reliability.

- **GCP Snapshot support**: Add Google Batch (GCP) support for snapshots with comprehensive compute environment detection and metadata client integration.
- **Locking documentation**: Add comprehensive lock documentation to `entryService` including invariants, lock upgrade patterns, and TOCTOU prevention.
- **Snapshot version**: Bump fusion-snapshot to v1.7.0 with GCP support.
- **Preemption handling**: Improve logging and handling of instance reclamation/spot termination events.
- **Nextflow pinning**: Pin Nextflow to 25.04.8 in CI to work around AWS authentication issues in 25.10.0.

### Critical fixes

- **Race Condition Fixes**:
  - Resolve multiple race conditions in entry service operations.
  - Fix directory iteration race by consolidating lock scope.
  - Add lock condition re-evaluation after write lock acquisition to prevent TOCTOU issues.
- **Priority test reliability**: Improve `TestBandwidthExecutor/PriorityExecution` statistical reliability by increasing buffer and task counts.
- **Directory operations**: Ensure `rmdir()` properly fails on non-empty directories.
- **License tests**: Update test certificates to expire in 40 years (2065) to prevent test failures.

### Dependency updates

- AWS SDK v2 components (1.19.11 → 1.19.13, 1.88.3 → 1.88.5, etc.)
- Azure SDK for Go (1.6.2 → 1.6.3, azidentity 1.12.0 → 1.13.0)
- Google APIs (0.251.0 → 0.252.0)
- golang.org/x/sys (0.36.0 → 0.37.0)
- failsafe-go (0.9.0 → 0.9.1)
- GitHub Actions: `mikepenz/action-junit-report` (5.6.2 → 6.0.0), `astral-sh/setup-uv` (6 → 7), `hoverkraft-tech/compose-action` (2.4.0 → 2.4.1)
