/**
 * Site-specific CSS overrides for Seqera Docs
 *
 * This file contains ONLY styles that are specific to this docs site
 * and not provided by @seqeralabs/docusaurus-preset-seqera.
 *
 * Base styles (Tailwind, colors, typography, fonts) are in the preset.
 */

/* ======================
   NAVBAR CUSTOMIZATIONS
   ====================== */

/* Hide the top navbar on desktop (custom behavior for this site) */
@media (min-width: 996px) {
  .navbar {
    height: 0;
    width: 0;
    display: none;
  }
}

/* Custom navbar height for this site */
:root {
  --ifm-navbar-height: 4rem;
}

@media (min-width: 996px) {
  :root {
    --ifm-navbar-height: 7rem;
  }
}

/* ======================
   SIDEBAR CUSTOMIZATIONS
   ====================== */

/* Custom sidebar positioning */
.theme-doc-sidebar-container > div {
  top: 74px;
}

/* Custom menu link styling */
nav.menu .menu__list .menu__link {
  border-radius: 5px;
  font-weight: 400;
  font-size: 0.9rem;
}

nav.menu .menu__list .menu__link--active:not(.menu__link--sublist) {
  font-weight: 700;
}

/* Custom caret icon for collapsible menu items */
nav.menu .menu__list .menu__link--sublist-caret:after,
.menu__caret {
  width: 40px;
}

.menu__caret:before {
  background-image: url("data:image/svg+xml,%3Csvg width='25' height='24' viewBox='0 0 25 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.4943 10.4038L7.7174 15.1615L7.16162 14.6057L12.4943 9.29225L17.8078 14.6057L17.252 15.1615L12.4943 10.4038Z' fill='%23160F26'/%3E%3C/svg%3E%0A");
  transform: rotate(0deg);
  width: 33px;
  background-size:100%;
  position: absolute;
  right: 5px;
  @media (min-width: 996px) {
    width: 28px;
  }
}

.menu__caret:hover {
  background: rgba(0,0,0,.1);
}

nav.menu .menu__list-item--collapsed .menu__link--sublist:after,
.menu__list-item--collapsed .menu__caret:before {
  transform: rotate(90deg);
}

/* Theme-specific menu styling */
[data-theme="light"] nav.menu .menu__list {
  & .menu__link {
    color: #000;
  }
  & .menu__link--active:not(.menu__link--sublist) {
    background: #e8ebfc;
    color: #4256e7;
  }
}

[data-theme="dark"] nav.menu .menu__list {
  & .menu__link {
    color: rgba(255, 255, 255, 0.9);
  }
  & .menu__link--active:not(.menu__link--sublist) {
    background: rgba(0, 0, 0, 0.2);
    color: #98a3ff;
  }
}

/* Dark mode menu hover states */
html[data-theme="dark"] {
  .menu__list-item-collapsible:hover {
    background: var(--color-gray-900);
  }

  .menu__link:hover {
    background: var(--color-gray-900);
  }

  nav.menu .menu__list .menu__link--active:not(.menu__link--sublist) {
    background: var(--color-blu-700);
    color: var(--color-blu-100);
  }
}

/* Mobile sidebar menu customizations */
.navbar-sidebar {
  height: 100%;
  min-height: 100vh;
  .menu__list {
    .menu__list-item:nth-child(3) {
      border-left: 1px solid var(--color-gray-600);
      padding-left: 5px;
    }
    li:nth-child(3){
      margin-left: 20px;
    }
  }
}

/* Remove jumping effect when sidebar accordion opens/closes */
.menu__list .menu__list {
  margin-top: 0;
}

/* ======================
   CODE BLOCKS
   ====================== */

/* Allow code block expansion (remove max-height limit) */
.theme-code-block pre {
  max-height: none;
  height: auto;
  overflow-y: visible;
}

.theme-code-block code {
  max-height: none;
  height: auto;
  overflow-y: visible;
}

/* ======================
   DEFINITION LISTS
   ====================== */

dl {
  margin: 1rem 0;
}

dt {
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
}

dd {
  margin-left: 2rem;
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
}

dd ul, dd ol {
  margin-left: 0;
  padding-left: 1.2rem;
}

dd li {
  margin-bottom: 0.25rem;
  text-indent: -1.2rem;
  padding-left: 1.2rem;
  margin-bottom: 0.5rem;
}

/* ======================
   CHECKLIST COMPONENT
   ====================== */

ul.checklist {
  list-style: none;
  margin: 0;
  padding: 0;
  & li {
    position: relative;
    padding-left: 40px;
    margin-top: 10px;
    &:before {
      content: "âœ“";
      display: block;
      position: absolute;
      top: calc(50% - 15px);
      left: 0;
      line-height: 30px;
      font-size: 30px;
      color: var(--color-blu);
    }
  }
}

/* ======================
   BOX COMPONENT
   ====================== */

.box {
  border: 1px solid transparent;
  background: rgba(0, 0, 0, 0.5);
  color: white;
  flex: 1 1 auto;
  display: flex;
  align-items: center;
  justify-content: center;
}

@media (min-width: 768px) {
  .box {
    border-radius: 16px;
  }
}

html[data-theme="light"] {
  & .box {
    background: white;
    color: var(--color-brand);
  }
}

/* ======================
   MISC CUSTOMIZATIONS
   ====================== */

/* Hide version dropdown on non-platform docs */
html:not(.plugin-id-platform) .navbar .dropdown {
  display: none;
}

/* KaTeX math alignment */
.katex-display,
.katex-display > .katex {
  text-align: left;
}

.katex .vlist .mord {
  font-size: 0.9em;
}

/* Paragraph spacing in ordered lists */
ol li > p:first-child {
  margin-top: 0;
}

ol li > p:last-child {
  margin-bottom: 0;
}

/* Material Design Icons */
.mdi-icon {
  vertical-align: middle;
  margin: -4px;
}

/* Details element theming */
[data-theme="light"] {
  --details-bg: #fff;
  --details-code-bg: rgb(246, 247, 248);
}

[data-theme="dark"] {
  --details-bg: rgb(25, 60, 71);
  --details-code-bg: var(--ifm-code-background);
}

details {
  background-color: var(--details-bg);
  border-top-width: 0;
  border-bottom-width: 0;
  border-right-width: 0;
  border-left-width: 5px;
}

details.alert > div > div {
  border-top: 1px solid #000;
}

details.alert code {
  background-color: var(--details-code-bg);
}

/* Excalidraw SVG sizing */
svg.excalidraw {
  height: 100%;
  max-width: 100%;
}

/* ======================
   API-SPECIFIC STYLES
   ====================== */

/* API method badges for sidebar */
.api-method {
    position: relative;
    display: flex;
    flex-direction: row;
    align-items: center;
    flex: none;
    .menu__link {
        &:before {
            text-transform: uppercase;
            font-size: 7px;
            font-weight: 600;
            display: flex;
            justify-content: center;
            flex: none;
            align-items: center;
            height: 20px;
            width: 35px;
            padding: 3px;
            text-align: center;
        }
    }
    .menu__link--active {
        &:before {
            background: white;
        }
    }
    &:hover {
        background: var(--color-blu-100);
        border-radius: 4px;
    }
    &.post {
        .menu__link:before {
            content: 'Post';
            border: 1px solid var(--color-nextflow-600);
        }
    }
    &.get {
        .menu__link:before  {
            content: 'Get';
            border: 1px solid var(--color-wave-600);
        }
    }
    &.put {
        .menu__link:before  {
            content: 'Put';
            border: 1px solid var(--color-multiqc-400);
        }
    }
    &.delete {
        .menu__link:before  {
            content: 'Delete';
            border: 1px solid #DC3545;
        }
    }
}

[data-theme="dark"]  {
    .api-method {
        .menu__link--active {
            &:before {
                background: transparent;
            }
        }
    }
}

.menu__list-item--deprecated  {
    display: flex;
    flex-direction: row;
   &:before {
    opacity: .4;
   }
}

[data-theme="light"] {
    .navbar-sidebar .menu__list-item--deprecated .menu__link,
    nav.menu .menu__list  .menu__list-item--deprecated .menu__link {
        color: var(--color-gray-800);
    }
}

.openapi__method-endpoint-path {
    margin-top: 0;
    font-size: 12px!important;
}

/* ======================
   TABLE OF CONTENTS
   ====================== */

.theme-doc-toc-mobile {
  .clean-btn {
    &:after {
        background-image: url("data:image/svg+xml,%3Csvg width='25' height='24' viewBox='0 0 25 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.4943 10.4038L7.7174 15.1615L7.16162 14.6057L12.4943 9.29225L17.8078 14.6057L17.252 15.1615L12.4943 10.4038Z' fill='%23160F26'/%3E%3C/svg%3E%0A");
    }
  }
}

/* ======================
   MOBILE NAV
   ====================== */

.navbar__toggle {
  position: absolute;
  right: 0rem;
}

.navbar-sidebar {
  width: 100vw;
  top: 0;
  left: 0;
  right: 0;
  height: 100vh;
  width: 100%;
  overflow: hidden;
  background-color: var(--ifm-navbar-background-color);
  position: fixed;
  z-index: 100;
  visibility: hidden;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.navbar-sidebar--show > .navbar-sidebar {
  width: 100%;
  height: 100vh;
  visibility: visible;
  opacity: 1;
  overflow-y: scroll;
}

/* ======================
   MAIN CONTENT MARGIN
   ====================== */

.main-wrapper {
  .container {
    margin-top: 0rem;
    @media (min-width: 996px) {
      margin-top: 2rem;
    }
  }
}