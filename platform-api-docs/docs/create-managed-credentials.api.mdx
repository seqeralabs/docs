---
id: create-managed-credentials
title: "Create managed credentials"
description: "Creates new managed credentials for the given `managedIdentityId`. To associate the credentials with a user other than the requester, append the `?userId`."
sidebar_label: "Create managed credentials"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: platform-api-docs/docs/seqera-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create managed credentials"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/identities/{managedIdentityId}/credentials"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Creates new managed credentials for the given `managedIdentityId`. To associate the credentials with a user other than the requester, append the `?userId`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"managedIdentityId","in":"path","description":"Managed identity numeric identifier.","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"orgId","in":"query","description":"Organization numeric identifier.","schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"query","description":"User numeric identifier. Append to associate managed credentials with a user other than the requester.","schema":{"type":"integer","format":"int64","nullable":true}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"description":"Managed credentials create request, including provider type and authentication details.","content":{"application/json":{"schema":{"type":"object","properties":{"provider":{"type":"string","enum":["ssh"],"description":"Authentication provider type. Currently supports `ssh`."},"credentials":{"required":["name","provider"],"type":"object","properties":{"id":{"maxLength":22,"type":"string"},"name":{"maxLength":100,"type":"string"},"description":{"type":"string"},"provider":{"maxLength":16,"type":"string","enum":["aws","azure","azure_entra","google","github","gitlab","bitbucket","ssh","k8s","container-reg","tw-agent","codecommit","gitea","azurerepos","seqeracompute","azure-cloud","s3"]},"baseUrl":{"maxLength":200,"pattern":"","type":"string"},"category":{"maxLength":20,"type":"string"},"deleted":{"type":"boolean","readOnly":true},"lastUsed":{"type":"string","format":"date-time","readOnly":true},"dateCreated":{"type":"string","format":"date-time","readOnly":true},"lastUpdated":{"type":"string","format":"date-time","readOnly":true},"keys":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true}},"discriminator":{"propertyName":"discriminator","mapping":{"s3":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"pathStyleAccessEnabled":{"type":"boolean"}},"title":"S3SecurityKeys"},"github":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GitHubSecurityKeys"},"azurerepos":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"AzureReposSecurityKeys"},"azure_entra":{"type":"object","allOf":[{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"batchName":{"type":"string"},"storageName":{"type":"string"},"batchKey":{"type":"string","writeOnly":true},"storageKey":{"type":"string","writeOnly":true}},"title":"AzureSecurityKeys"},{"properties":{"discriminator":{"type":"string","readOnly":true},"tenantId":{"type":"string"},"clientId":{"type":"string"},"clientSecret":{"type":"string","writeOnly":true}}}],"title":"AzureEntraKeys"},"container-reg":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"userName":{"type":"string"},"password":{"type":"string","writeOnly":true},"registry":{"type":"string"}},"title":"ContainerRegistryKeys"},"tw-agent":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"connectionId":{"type":"string"},"workDir":{"type":"string"},"shared":{"type":"boolean"}},"title":"AgentSecurityKeys"},"k8s":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"certificate":{"type":"string"},"privateKey":{"type":"string","writeOnly":true},"token":{"type":"string","writeOnly":true}},"title":"K8sSecurityKeys"},"ssh":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"privateKey":{"type":"string","writeOnly":true},"passphrase":{"type":"string","writeOnly":true}},"title":"SSHSecurityKeys"},"google":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"data":{"type":"string","writeOnly":true}},"title":"GoogleSecurityKeys"},"bitbucket":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"token":{"type":"string","writeOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"BitBucketSecurityKeys"},"gitea":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GiteaSecurityKeys"},"seqeracompute":{"type":"object","allOf":[{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"assumeRoleArn":{"type":"string"}},"title":"AwsSecurityKeys"},{"properties":{"discriminator":{"type":"string","readOnly":true}}}],"title":"SeqeraComputeSecurityKeys"},"codecommit":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"CodeCommitSecurityKeys"},"gitlab":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"token":{"type":"string","writeOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GitLabSecurityKeys"},"aws":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"assumeRoleArn":{"type":"string"}},"title":"AwsSecurityKeys"},"azure":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"batchName":{"type":"string"},"storageName":{"type":"string"},"batchKey":{"type":"string","writeOnly":true},"storageKey":{"type":"string","writeOnly":true}},"title":"AzureSecurityKeys"}}},"oneOf":[{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"assumeRoleArn":{"type":"string"}},"title":"AwsSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"data":{"type":"string","writeOnly":true}},"title":"GoogleSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GitHubSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"token":{"type":"string","writeOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GitLabSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"token":{"type":"string","writeOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"BitBucketSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GiteaSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"privateKey":{"type":"string","writeOnly":true},"passphrase":{"type":"string","writeOnly":true}},"title":"SSHSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"certificate":{"type":"string"},"privateKey":{"type":"string","writeOnly":true},"token":{"type":"string","writeOnly":true}},"title":"K8sSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"batchName":{"type":"string"},"storageName":{"type":"string"},"batchKey":{"type":"string","writeOnly":true},"storageKey":{"type":"string","writeOnly":true}},"title":"AzureSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"AzureReposSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"userName":{"type":"string"},"password":{"type":"string","writeOnly":true},"registry":{"type":"string"}},"title":"ContainerRegistryKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"connectionId":{"type":"string"},"workDir":{"type":"string"},"shared":{"type":"boolean"}},"title":"AgentSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"CodeCommitSecurityKeys"},{"type":"object","allOf":[{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"batchName":{"type":"string"},"storageName":{"type":"string"},"batchKey":{"type":"string","writeOnly":true},"storageKey":{"type":"string","writeOnly":true}},"title":"AzureSecurityKeys"},{"properties":{"discriminator":{"type":"string","readOnly":true},"tenantId":{"type":"string"},"clientId":{"type":"string"},"clientSecret":{"type":"string","writeOnly":true}}}],"title":"AzureEntraKeys"},{"type":"object","allOf":[{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"assumeRoleArn":{"type":"string"}},"title":"AwsSecurityKeys"},{"properties":{"discriminator":{"type":"string","readOnly":true}}}],"title":"SeqeraComputeSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"pathStyleAccessEnabled":{"type":"boolean"}},"title":"S3SecurityKeys"}],"title":"SecurityKeys"}},"title":"Credentials","description":"Authentication credentials configuration object."},"metadata":{"description":"Additional metadata for the managed credentials.","type":"object","properties":{"discriminator":{"type":"string","readOnly":true,"description":"Type discriminator for metadata structure (read-only)."}},"title":"ManagedCredentialsMetadata"}},"title":"CreateManagedCredentialsRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"managedCredentials":{"description":"Created managed credentials object.","type":"object","properties":{"id":{"type":"integer","format":"int64","description":"Managed credentials numeric identifier."}},"title":"ManagedCredentialsDbDto"}},"title":"CreateManagedCredentialsResponse"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}},"title":"ErrorResponse"}}}},"403":{"description":"Operation not allowed"}}}
>
  
</StatusCodes>


      