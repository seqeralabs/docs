---
id: create-managed-credentials
title: "Create managed credentials"
description: "Creates new managed credentials for the given `managedIdentityId`. To associate the credentials with a user other than the requester, append the `?userId`."
sidebar_label: "Create managed credentials"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: platform-api-docs/docs/seqera-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create managed credentials"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/identities/{managedIdentityId}/credentials"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Creates new managed credentials for the given `managedIdentityId`. To associate the credentials with a user other than the requester, append the `?userId`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"managedIdentityId","in":"path","description":"Managed identity numeric identifier.","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"orgId","in":"query","description":"Organization numeric identifier.","schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"query","description":"User numeric identifier. Append to associate managed credentials with a user other than the requester.","schema":{"type":"integer","format":"int64","nullable":true}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"description":"Managed credentials create request, including provider type and authentication details.","content":{"application/json":{"schema":{"type":"object","properties":{"provider":{"type":"string","enum":["ssh"],"description":"Authentication provider type. Currently supports `ssh`."},"credentials":{"required":["name","provider"],"type":"object","properties":{"id":{"maxLength":22,"type":"string"},"name":{"maxLength":100,"type":"string"},"description":{"type":"string"},"provider":{"maxLength":16,"type":"string","enum":["aws","azure","azure_entra","google","github","gitlab","bitbucket","ssh","k8s","container-reg","tw-agent","codecommit","gitea","azurerepos","seqeracompute","azure-cloud","s3"]},"baseUrl":{"maxLength":200,"pattern":"","type":"string"},"category":{"maxLength":20,"type":"string"},"deleted":{"type":"boolean","readOnly":true},"lastUsed":{"type":"string","format":"date-time","readOnly":true},"dateCreated":{"type":"string","format":"date-time","readOnly":true},"lastUpdated":{"type":"string","format":"date-time","readOnly":true},"keys":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true}},"discriminator":{"propertyName":"discriminator","mapping":{"s3":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"pathStyleAccessEnabled":{"type":"boolean"}},"title":"S3SecurityKeys"},"github":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GitHubSecurityKeys"},"azurerepos":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"AzureReposSecurityKeys"},"azure_entra":{"type":"object","allOf":[{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"batchName":{"type":"string"},"storageName":{"type":"string"},"batchKey":{"type":"string","writeOnly":true},"storageKey":{"type":"string","writeOnly":true}},"title":"AzureSecurityKeys"},{"properties":{"discriminator":{"type":"string","readOnly":true},"tenantId":{"type":"string"},"clientId":{"type":"string"},"clientSecret":{"type":"string","writeOnly":true}}}],"title":"AzureEntraKeys"},"container-reg":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"userName":{"type":"string"},"password":{"type":"string","writeOnly":true},"registry":{"type":"string"}},"title":"ContainerRegistryKeys"},"tw-agent":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"connectionId":{"type":"string"},"workDir":{"type":"string"},"shared":{"type":"boolean"}},"title":"AgentSecurityKeys"},"k8s":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"certificate":{"type":"string"},"privateKey":{"type":"string","writeOnly":true},"token":{"type":"string","writeOnly":true}},"title":"K8sSecurityKeys"},"ssh":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"privateKey":{"type":"string","writeOnly":true},"passphrase":{"type":"string","writeOnly":true}},"title":"SSHSecurityKeys"},"google":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"data":{"type":"string","writeOnly":true}},"title":"GoogleSecurityKeys"},"bitbucket":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"token":{"type":"string","writeOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"BitBucketSecurityKeys"},"gitea":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GiteaSecurityKeys"},"seqeracompute":{"type":"object","allOf":[{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"assumeRoleArn":{"type":"string"}},"title":"AwsSecurityKeys"},{"properties":{"discriminator":{"type":"string","readOnly":true}}}],"title":"SeqeraComputeSecurityKeys"},"codecommit":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"CodeCommitSecurityKeys"},"gitlab":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"token":{"type":"string","writeOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GitLabSecurityKeys"},"aws":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"assumeRoleArn":{"type":"string"}},"title":"AwsSecurityKeys"},"azure":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"batchName":{"type":"string"},"storageName":{"type":"string"},"batchKey":{"type":"string","writeOnly":true},"storageKey":{"type":"string","writeOnly":true}},"title":"AzureSecurityKeys"}}},"oneOf":[{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"assumeRoleArn":{"type":"string"}},"title":"AwsSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"data":{"type":"string","writeOnly":true}},"title":"GoogleSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GitHubSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"token":{"type":"string","writeOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GitLabSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"token":{"type":"string","writeOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"BitBucketSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GiteaSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"privateKey":{"type":"string","writeOnly":true},"passphrase":{"type":"string","writeOnly":true}},"title":"SSHSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"certificate":{"type":"string"},"privateKey":{"type":"string","writeOnly":true},"token":{"type":"string","writeOnly":true}},"title":"K8sSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"batchName":{"type":"string"},"storageName":{"type":"string"},"batchKey":{"type":"string","writeOnly":true},"storageKey":{"type":"string","writeOnly":true}},"title":"AzureSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"AzureReposSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"userName":{"type":"string"},"password":{"type":"string","writeOnly":true},"registry":{"type":"string"}},"title":"ContainerRegistryKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"connectionId":{"type":"string"},"workDir":{"type":"string"},"shared":{"type":"boolean"}},"title":"AgentSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"CodeCommitSecurityKeys"},{"type":"object","allOf":[{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"batchName":{"type":"string"},"storageName":{"type":"string"},"batchKey":{"type":"string","writeOnly":true},"storageKey":{"type":"string","writeOnly":true}},"title":"AzureSecurityKeys"},{"properties":{"discriminator":{"type":"string","readOnly":true},"tenantId":{"type":"string"},"clientId":{"type":"string"},"clientSecret":{"type":"string","writeOnly":true}}}],"title":"AzureEntraKeys"},{"type":"object","allOf":[{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"assumeRoleArn":{"type":"string"}},"title":"AwsSecurityKeys"},{"properties":{"discriminator":{"type":"string","readOnly":true}}}],"title":"SeqeraComputeSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"pathStyleAccessEnabled":{"type":"boolean"}},"title":"S3SecurityKeys"}],"title":"SecurityKeys"}},"title":"Credentials","description":"Authentication credentials configuration object."},"metadata":{"description":"Additional metadata for the managed credentials.","type":"object","properties":{"discriminator":{"type":"string","readOnly":true,"description":"Type discriminator for metadata structure (read-only)."}},"title":"ManagedCredentialsMetadata"}},"title":"CreateManagedCredentialsRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"managedCredentials":{"description":"Created managed credentials object.","type":"object","properties":{"id":{"type":"integer","format":"int64","description":"Managed credentials numeric identifier."}},"title":"ManagedCredentialsDbDto"}},"title":"CreateManagedCredentialsResponse"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}},"title":"ErrorResponse"}}}},"403":{"description":"Operation not allowed"}}}
>
  
</StatusCodes>


      