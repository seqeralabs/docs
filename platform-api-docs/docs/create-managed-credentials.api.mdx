---
id: create-managed-credentials
title: "Create managed credentials"
description: "Creates new managed credentials for the given `managedIdentityId`. To associate the credentials with a user other than the requester, append the `?userId`."
sidebar_label: "Create managed credentials"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: platform-api-docs/docs/seqera-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create managed credentials"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/identities/{managedIdentityId}/credentials"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Creates new managed credentials for the given `managedIdentityId`. To associate the credentials with a user other than the requester, append the `?userId`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"managedIdentityId","in":"path","description":"Managed identity numeric identifier.","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"orgId","in":"query","description":"Organization numeric identifier.","schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"query","description":"User numeric identifier. Append to associate managed credentials with a user other than the requester.","schema":{"type":"integer","format":"int64","nullable":true}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"description":"Managed credentials create request, including provider type and authentication details.","content":{"application/json":{"schema":{"type":"object","properties":{"provider":{"type":"string","enum":["ssh"],"description":"Authentication provider type. Currently supports `ssh`."},"credentials":{"required":["name","provider"],"type":"object","properties":{"id":{"maxLength":22,"type":"string"},"name":{"maxLength":100,"type":"string"},"description":{"type":"string"},"provider":{"maxLength":16,"type":"string","enum":["aws","azure","azure_entra","google","github","gitlab","bitbucket","ssh","k8s","container-reg","tw-agent","codecommit","gitea","azurerepos","seqeracompute","azure-cloud","s3"]},"baseUrl":{"maxLength":200,"pattern":"","type":"string"},"category":{"maxLength":20,"type":"string"},"deleted":{"type":"boolean","readOnly":true},"lastUsed":{"type":"string","format":"date-time","readOnly":true},"dateCreated":{"type":"string","format":"date-time","readOnly":true},"lastUpdated":{"type":"string","format":"date-time","readOnly":true},"keys":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true}},"discriminator":{"propertyName":"discriminator","mapping":{"s3":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"pathStyleAccessEnabled":{"type":"boolean"}},"title":"S3SecurityKeys"},"github":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GitHubSecurityKeys"},"azurerepos":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"AzureReposSecurityKeys"},"azure_entra":{"type":"object","allOf":[{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"batchName":{"type":"string"},"storageName":{"type":"string"},"batchKey":{"type":"string","writeOnly":true},"storageKey":{"type":"string","writeOnly":true}},"title":"AzureSecurityKeys"},{"properties":{"discriminator":{"type":"string","readOnly":true},"tenantId":{"type":"string"},"clientId":{"type":"string"},"clientSecret":{"type":"string","writeOnly":true}}}],"title":"AzureEntraKeys"},"container-reg":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"userName":{"type":"string"},"password":{"type":"string","writeOnly":true},"registry":{"type":"string"}},"title":"ContainerRegistryKeys"},"tw-agent":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"connectionId":{"type":"string"},"workDir":{"type":"string"},"shared":{"type":"boolean"}},"title":"AgentSecurityKeys"},"k8s":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"certificate":{"type":"string"},"privateKey":{"type":"string","writeOnly":true},"token":{"type":"string","writeOnly":true}},"title":"K8sSecurityKeys"},"ssh":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"privateKey":{"type":"string","writeOnly":true},"passphrase":{"type":"string","writeOnly":true}},"title":"SSHSecurityKeys"},"google":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"data":{"type":"string","writeOnly":true}},"title":"GoogleSecurityKeys"},"bitbucket":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"token":{"type":"string","writeOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"BitBucketSecurityKeys"},"gitea":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GiteaSecurityKeys"},"seqeracompute":{"type":"object","allOf":[{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"assumeRoleArn":{"type":"string"}},"title":"AwsSecurityKeys"},{"properties":{"discriminator":{"type":"string","readOnly":true}}}],"title":"SeqeraComputeSecurityKeys"},"codecommit":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"CodeCommitSecurityKeys"},"gitlab":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"token":{"type":"string","writeOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GitLabSecurityKeys"},"aws":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"assumeRoleArn":{"type":"string"}},"title":"AwsSecurityKeys"},"azure":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"batchName":{"type":"string"},"storageName":{"type":"string"},"batchKey":{"type":"string","writeOnly":true},"storageKey":{"type":"string","writeOnly":true}},"title":"AzureSecurityKeys"}}},"oneOf":[{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"assumeRoleArn":{"type":"string"}},"title":"AwsSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"data":{"type":"string","writeOnly":true}},"title":"GoogleSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GitHubSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"token":{"type":"string","writeOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GitLabSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"token":{"type":"string","writeOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"BitBucketSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GiteaSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"privateKey":{"type":"string","writeOnly":true},"passphrase":{"type":"string","writeOnly":true}},"title":"SSHSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"certificate":{"type":"string"},"privateKey":{"type":"string","writeOnly":true},"token":{"type":"string","writeOnly":true}},"title":"K8sSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"batchName":{"type":"string"},"storageName":{"type":"string"},"batchKey":{"type":"string","writeOnly":true},"storageKey":{"type":"string","writeOnly":true}},"title":"AzureSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"AzureReposSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"userName":{"type":"string"},"password":{"type":"string","writeOnly":true},"registry":{"type":"string"}},"title":"ContainerRegistryKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"connectionId":{"type":"string"},"workDir":{"type":"string"},"shared":{"type":"boolean"}},"title":"AgentSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"CodeCommitSecurityKeys"},{"type":"object","allOf":[{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"batchName":{"type":"string"},"storageName":{"type":"string"},"batchKey":{"type":"string","writeOnly":true},"storageKey":{"type":"string","writeOnly":true}},"title":"AzureSecurityKeys"},{"properties":{"discriminator":{"type":"string","readOnly":true},"tenantId":{"type":"string"},"clientId":{"type":"string"},"clientSecret":{"type":"string","writeOnly":true}}}],"title":"AzureEntraKeys"},{"type":"object","allOf":[{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"assumeRoleArn":{"type":"string"}},"title":"AwsSecurityKeys"},{"properties":{"discriminator":{"type":"string","readOnly":true}}}],"title":"SeqeraComputeSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"pathStyleAccessEnabled":{"type":"boolean"}},"title":"S3SecurityKeys"}],"title":"SecurityKeys"}},"title":"Credentials","description":"Authentication credentials configuration object."},"metadata":{"description":"Additional metadata for the managed credentials.","type":"object","properties":{"discriminator":{"type":"string","readOnly":true,"description":"Type discriminator for metadata structure (read-only)."}},"title":"ManagedCredentialsMetadata"}},"title":"CreateManagedCredentialsRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"managedCredentials":{"description":"Created managed credentials object.","type":"object","properties":{"id":{"type":"integer","format":"int64","description":"Managed credentials numeric identifier."}},"title":"ManagedCredentialsDbDto"}},"title":"CreateManagedCredentialsResponse"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}},"title":"ErrorResponse"}}}},"403":{"description":"Operation not allowed"}}}
>
  
</StatusCodes>


      