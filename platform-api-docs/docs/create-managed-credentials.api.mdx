---
id: create-managed-credentials
title: "Create managed credentials"
description: "Creates new managed credentials for the given `managedIdentityId`. To associate the credentials with a user other than the requester, append the `?userId`."
sidebar_label: "Create managed credentials"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: platform-api-docs/docs/seqera-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create managed credentials"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/identities/{managedIdentityId}/credentials"}
  context={"endpoint"}
>

</MethodEndpoint>



Creates new managed credentials for the given `managedIdentityId`. To associate the credentials with a user other than the requester, append the `?userId`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"managedIdentityId","in":"path","description":"Managed identity numeric identifier.","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"orgId","in":"query","description":"Organization numeric identifier.","schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"query","description":"User numeric identifier. Append to associate managed credentials with a user other than the requester.","schema":{"type":"integer","format":"int64","nullable":true}}]}
>

</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"description":"Managed credentials create request, including provider type and authentication details.","content":{"application/json":{"schema":{"type":"object","properties":{"provider":{"type":"string","enum":["ssh"],"description":"Authentication provider type. Currently supports `ssh`."},"credentials":{"required":["name","provider"],"type":"object","properties":{"id":{"maxLength":22,"type":"string"},"name":{"maxLength":100,"type":"string"},"description":{"type":"string"},"provider":{"maxLength":16,"type":"string","enum":["aws","azure","azure_entra","google","github","gitlab","bitbucket","ssh","k8s","container-reg","tw-agent","codecommit","gitea","azurerepos","seqeracompute","azure-cloud","s3"]},"baseUrl":{"maxLength":200,"pattern":"","type":"string"},"category":{"maxLength":20,"type":"string"},"deleted":{"type":"boolean","readOnly":true},"lastUsed":{"type":"string","format":"date-time","readOnly":true},"dateCreated":{"type":"string","format":"date-time","readOnly":true},"lastUpdated":{"type":"string","format":"date-time","readOnly":true},"keys":{"type":"object","properties":{"discriminator":{"type":"string"}},"discriminator":{"propertyName":"discriminator","mapping":{"s3":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"pathStyleAccessEnabled":{"type":"boolean"}},"title":"S3-compatible credentials"},"github":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GitHub credentials"},"azurerepos":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"Azure Repos credentials"},"azure_entra":{"type":"object","title":"Azure Entra credentials","properties":{"discriminator":{"type":"string"},"batchName":{"type":"string","description":"Azure Batch account name."},"storageName":{"type":"string","description":"Azure storage account name."},"batchKey":{"type":"string","writeOnly":true,"description":"Azure Batch account key."},"storageKey":{"type":"string","writeOnly":true,"description":"Azure storage account key."},"tenantId":{"type":"string","description":"Azure tenant ID."},"clientId":{"type":"string","description":"Azure service principal client ID."},"clientSecret":{"type":"string","writeOnly":true,"description":"Azure service principal client secret."}}},"container-reg":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"userName":{"type":"string"},"password":{"type":"string","writeOnly":true},"registry":{"type":"string"}},"title":"Container registry credentials"},"tw-agent":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"connectionId":{"type":"string"},"workDir":{"type":"string"},"shared":{"type":"boolean"}},"title":"Tower Agent credentials"},"k8s":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"certificate":{"type":"string"},"privateKey":{"type":"string","writeOnly":true},"token":{"type":"string","writeOnly":true}},"title":"Kubernetes credentials"},"ssh":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"privateKey":{"type":"string","writeOnly":true},"passphrase":{"type":"string","writeOnly":true}},"title":"SSH credentials"},"google":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"data":{"type":"string","writeOnly":true}},"title":"Google credentials"},"bitbucket":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"token":{"type":"string","writeOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"BitBucket credentials"},"gitea":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"Gitea credentials"},"seqeracompute":{"type":"object","title":"Seqera Compute credentials","properties":{"discriminator":{"type":"string"},"accessKey":{"type":"string","description":"Seqera Compute access key."},"secretKey":{"type":"string","writeOnly":true,"description":"Seqera Compute secret key."},"assumeRoleArn":{"type":"string","description":"Optional IAM role ARN to assume."}}},"codecommit":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"AWS CodeCommit credentials"},"gitlab":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"token":{"type":"string","writeOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GitLab credentials"},"aws":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"assumeRoleArn":{"type":"string"}},"title":"AWS credentials"},"azure":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"batchName":{"type":"string"},"storageName":{"type":"string"},"batchKey":{"type":"string","writeOnly":true},"storageKey":{"type":"string","writeOnly":true}},"title":"Azure credentials"}}},"oneOf":[{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"assumeRoleArn":{"type":"string"}},"title":"AWS credentials"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"data":{"type":"string","writeOnly":true}},"title":"Google credentials"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GitHub credentials"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"token":{"type":"string","writeOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GitLab credentials"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"token":{"type":"string","writeOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"BitBucket credentials"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"Gitea credentials"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"privateKey":{"type":"string","writeOnly":true},"passphrase":{"type":"string","writeOnly":true}},"title":"SSH credentials"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"certificate":{"type":"string"},"privateKey":{"type":"string","writeOnly":true},"token":{"type":"string","writeOnly":true}},"title":"Kubernetes credentials"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"batchName":{"type":"string"},"storageName":{"type":"string"},"batchKey":{"type":"string","writeOnly":true},"storageKey":{"type":"string","writeOnly":true}},"title":"Azure credentials"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"Azure Repos credentials"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"userName":{"type":"string"},"password":{"type":"string","writeOnly":true},"registry":{"type":"string"}},"title":"Container registry credentials"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"connectionId":{"type":"string"},"workDir":{"type":"string"},"shared":{"type":"boolean"}},"title":"Tower Agent credentials"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"AWS CodeCommit credentials"},{"type":"object","title":"Azure Entra credentials","properties":{"discriminator":{"type":"string"},"batchName":{"type":"string","description":"Azure Batch account name."},"storageName":{"type":"string","description":"Azure storage account name."},"batchKey":{"type":"string","writeOnly":true,"description":"Azure Batch account key."},"storageKey":{"type":"string","writeOnly":true,"description":"Azure storage account key."},"tenantId":{"type":"string","description":"Azure tenant ID."},"clientId":{"type":"string","description":"Azure service principal client ID."},"clientSecret":{"type":"string","writeOnly":true,"description":"Azure service principal client secret."}}},{"type":"object","title":"Seqera Compute credentials","properties":{"discriminator":{"type":"string"},"accessKey":{"type":"string","description":"Seqera Compute access key."},"secretKey":{"type":"string","writeOnly":true,"description":"Seqera Compute secret key."},"assumeRoleArn":{"type":"string","description":"Optional IAM role ARN to assume."}}},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"pathStyleAccessEnabled":{"type":"boolean"}},"title":"S3-compatible credentials"}],"title":"SecurityKeys"}},"title":"Credentials","description":"Authentication credentials configuration object."},"metadata":{"description":"Additional metadata for the managed credentials.","type":"object","properties":{"discriminator":{"type":"string","readOnly":true,"description":"Type discriminator for metadata structure (read-only)."}},"title":"ManagedCredentialsMetadata"}},"title":"CreateManagedCredentialsRequest"}}},"required":true}}
>

</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"managedCredentials":{"description":"Created managed credentials object.","type":"object","properties":{"id":{"type":"integer","format":"int64","description":"Managed credentials numeric identifier."}},"title":"ManagedCredentialsDbDto"}},"title":"CreateManagedCredentialsResponse"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}},"title":"ErrorResponse"}}}},"403":{"description":"Operation not allowed"}}}
>

</StatusCodes>
