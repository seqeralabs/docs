---
id: create-managed-credentials
title: "Create managed credentials"
description: "Creates new managed credentials for the given `managedIdentityId`. To associate the credentials with a user other than the requester, append the `?userId`."
sidebar_label: "Create managed credentials"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: platform-api-docs/docs/seqera-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create managed credentials"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/identities/{managedIdentityId}/credentials"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Creates new managed credentials for the given `managedIdentityId`. To associate the credentials with a user other than the requester, append the `?userId`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"managedIdentityId","in":"path","description":"Managed identity numeric identifier.","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"orgId","in":"query","description":"Organization numeric identifier.","schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"query","description":"User numeric identifier. Append to associate managed credentials with a user other than the requester.","schema":{"type":"integer","format":"int64","nullable":true}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"description":"Managed credentials create request, including provider type and authentication details.","content":{"application/json":{"schema":{"type":"object","properties":{"provider":{"type":"string","enum":["ssh"],"description":"Authentication provider type. Currently supports `ssh`."},"credentials":{"required":["name","provider"],"type":"object","properties":{"id":{"maxLength":22,"type":"string"},"name":{"maxLength":100,"type":"string"},"description":{"type":"string"},"provider":{"maxLength":16,"type":"string","enum":["aws","azure","azure_entra","google","github","gitlab","bitbucket","ssh","k8s","container-reg","tw-agent","codecommit","gitea","azurerepos","seqeracompute","azure-cloud","s3"]},"baseUrl":{"maxLength":200,"pattern":"","type":"string"},"category":{"maxLength":20,"type":"string"},"deleted":{"type":"boolean","readOnly":true},"lastUsed":{"type":"string","format":"date-time","readOnly":true},"dateCreated":{"type":"string","format":"date-time","readOnly":true},"lastUpdated":{"type":"string","format":"date-time","readOnly":true},"keys":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true}},"discriminator":{"propertyName":"discriminator","mapping":{"s3":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"pathStyleAccessEnabled":{"type":"boolean"}},"title":"S3SecurityKeys"},"github":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GitHubSecurityKeys"},"azurerepos":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"AzureReposSecurityKeys"},"azure_entra":{"type":"object","allOf":[{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"batchName":{"type":"string"},"storageName":{"type":"string"},"batchKey":{"type":"string","writeOnly":true},"storageKey":{"type":"string","writeOnly":true}},"title":"AzureSecurityKeys"},{"properties":{"discriminator":{"type":"string","readOnly":true},"tenantId":{"type":"string"},"clientId":{"type":"string"},"clientSecret":{"type":"string","writeOnly":true}}}],"title":"AzureEntraKeys"},"container-reg":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"userName":{"type":"string"},"password":{"type":"string","writeOnly":true},"registry":{"type":"string"}},"title":"ContainerRegistryKeys"},"tw-agent":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"connectionId":{"type":"string"},"workDir":{"type":"string"},"shared":{"type":"boolean"}},"title":"AgentSecurityKeys"},"k8s":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"certificate":{"type":"string"},"privateKey":{"type":"string","writeOnly":true},"token":{"type":"string","writeOnly":true}},"title":"K8sSecurityKeys"},"ssh":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"privateKey":{"type":"string","writeOnly":true},"passphrase":{"type":"string","writeOnly":true}},"title":"SSHSecurityKeys"},"google":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"data":{"type":"string","writeOnly":true}},"title":"GoogleSecurityKeys"},"bitbucket":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"token":{"type":"string","writeOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"BitBucketSecurityKeys"},"gitea":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GiteaSecurityKeys"},"seqeracompute":{"type":"object","allOf":[{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"assumeRoleArn":{"type":"string"}},"title":"AwsSecurityKeys"},{"properties":{"discriminator":{"type":"string","readOnly":true}}}],"title":"SeqeraComputeSecurityKeys"},"codecommit":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"CodeCommitSecurityKeys"},"gitlab":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"token":{"type":"string","writeOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GitLabSecurityKeys"},"aws":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"assumeRoleArn":{"type":"string"}},"title":"AwsSecurityKeys"},"azure":{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"batchName":{"type":"string"},"storageName":{"type":"string"},"batchKey":{"type":"string","writeOnly":true},"storageKey":{"type":"string","writeOnly":true}},"title":"AzureSecurityKeys"}}},"oneOf":[{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"assumeRoleArn":{"type":"string"}},"title":"AwsSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"data":{"type":"string","writeOnly":true}},"title":"GoogleSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GitHubSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"token":{"type":"string","writeOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GitLabSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"token":{"type":"string","writeOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"BitBucketSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"GiteaSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"privateKey":{"type":"string","writeOnly":true},"passphrase":{"type":"string","writeOnly":true}},"title":"SSHSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"certificate":{"type":"string"},"privateKey":{"type":"string","writeOnly":true},"token":{"type":"string","writeOnly":true}},"title":"K8sSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"batchName":{"type":"string"},"storageName":{"type":"string"},"batchKey":{"type":"string","writeOnly":true},"storageKey":{"type":"string","writeOnly":true}},"title":"AzureSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"AzureReposSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"userName":{"type":"string"},"password":{"type":"string","writeOnly":true},"registry":{"type":"string"}},"title":"ContainerRegistryKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"connectionId":{"type":"string"},"workDir":{"type":"string"},"shared":{"type":"boolean"}},"title":"AgentSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"username":{"type":"string"},"password":{"type":"string","writeOnly":true}},"title":"CodeCommitSecurityKeys"},{"type":"object","allOf":[{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"batchName":{"type":"string"},"storageName":{"type":"string"},"batchKey":{"type":"string","writeOnly":true},"storageKey":{"type":"string","writeOnly":true}},"title":"AzureSecurityKeys"},{"properties":{"discriminator":{"type":"string","readOnly":true},"tenantId":{"type":"string"},"clientId":{"type":"string"},"clientSecret":{"type":"string","writeOnly":true}}}],"title":"AzureEntraKeys"},{"type":"object","allOf":[{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"assumeRoleArn":{"type":"string"}},"title":"AwsSecurityKeys"},{"properties":{"discriminator":{"type":"string","readOnly":true}}}],"title":"SeqeraComputeSecurityKeys"},{"type":"object","properties":{"discriminator":{"type":"string","readOnly":true},"accessKey":{"type":"string"},"secretKey":{"type":"string","writeOnly":true},"pathStyleAccessEnabled":{"type":"boolean"}},"title":"S3SecurityKeys"}],"title":"SecurityKeys"}},"title":"Credentials","description":"Authentication credentials configuration object."},"metadata":{"description":"Additional metadata for the managed credentials.","type":"object","properties":{"discriminator":{"type":"string","readOnly":true,"description":"Type discriminator for metadata structure (read-only)."}},"title":"ManagedCredentialsMetadata"}},"title":"CreateManagedCredentialsRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"managedCredentials":{"description":"Created managed credentials object.","type":"object","properties":{"id":{"type":"integer","format":"int64","description":"Managed credentials numeric identifier."}},"title":"ManagedCredentialsDbDto"}},"title":"CreateManagedCredentialsResponse"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}},"title":"ErrorResponse"}}}},"403":{"description":"Operation not allowed"}}}
>
  
</StatusCodes>


      