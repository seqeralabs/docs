overlay: 1.0.0
x-speakeasy-jsonpath: rfc9535
info:
  title: Overlay seqera-api-1.85.yml => seqera-api-latest.yml
  version: 0.0.0
actions:
  - target: $["info"]["version"]
    update: 1.95.0
  - target: $["paths"]["/orgs/{orgId}/teams/{teamId}/workspaces"]["get"]["responses"]["200"]["content"]["application/json"]["schema"]["$ref"]
    update: "#/components/schemas/ListWorkspacesByTeamResponse"
  - target: $["paths"]["/users/{userId}"]["post"]["requestBody"]["content"]["application/json"]["schema"]["$ref"]
    update: "#/components/schemas/UpsertUserRequest"
  - target: $["components"]["schemas"]["AddParticipantResponse"]["properties"]["participant"]["$ref"]
    update: "#/components/schemas/ParticipantResponseDto"
  - target: $["components"]["schemas"]["ComputeEnv.Status"]["enum"][*]
    remove: true
  - target: $["components"]["schemas"]["ComputeEnv.Status"]["enum"]
    update:
      - CREATING
      - AVAILABLE
      - DELETING
      - ERRORED
      - INVALID
  - target: $["components"]["schemas"]["ComputeEnv.Status"]["description"]
    update: "Compute environment status. Accepts `CREATING`, `AVAILABLE`, `DELETING`, `ERRORED`, or `INVALID`."
  - target: $["components"]["schemas"]["DataStudioWorkspaceSettingsResponse"]["properties"]
    update:
      containerRepository:
        type: string
        nullable: true
        description: "Custom container repository for Studios in this workspace. Can be `null`."
  - target: $["components"]["schemas"]["DescribeUserResponse"]["properties"]["user"]["$ref"]
    update: "#/components/schemas/UserResponseDto"
  - target: $["components"]["schemas"]["Launch"]["properties"]
    update:
      workspaceId:
        type: integer
        format: int64
        description: "Workspace numeric identifier associated with this launch."
  - target: $["components"]["schemas"]["ListParticipantsResponse"]["properties"]["participants"]["items"]["$ref"]
    update: "#/components/schemas/ParticipantResponseDto"
  - target: $["components"]["schemas"]
    update:
      ListWorkspacesByTeamResponse:
        type: object
        description: "Response object for listing workspaces associated with a team."
        properties:
          workspaces:
            type: array
            items:
              $ref: "#/components/schemas/WorkspaceParticipantResponseDto"
            description: "Array of workspace participation details for the team."
          totalSize:
            type: integer
            format: int64
            description: "Total number of workspaces associated with the team."
  - target: $["components"]["schemas"]
    update:
      ParticipantResponseDto:
        type: object
        description: "Workspace participant details."
        properties:
          participantId:
            type: integer
            format: int64
            description: "Participant numeric identifier."
          memberId:
            type: integer
            format: int64
            description: "Organization member numeric identifier."
          userName:
            type: string
            description: "Participant username."
          firstName:
            type: string
            description: "Participant first name."
          lastName:
            type: string
            description: "Participant last name."
          email:
            type: string
            description: "Participant email address."
          orgRole:
            $ref: "#/components/schemas/OrgRole"
            description: "Participant role within the organization."
          teamId:
            type: integer
            format: int64
            description: "Team numeric identifier, if the participant is a team."
          teamName:
            type: string
            description: "Team name, if the participant is a team."
          wspRole:
            type: string
            description: "Participant role within the workspace."
          type:
            $ref: "#/components/schemas/ParticipantType"
            description: "Participant type."
          teamAvatarUrl:
            type: string
            description: "Team avatar URL, if the participant is a team."
          userAvatarUrl:
            type: string
            description: "User avatar URL, if the participant is a member."
  - target: $["components"]["schemas"]["ServiceInfo"]["properties"]
    update:
      seqeraAiBaseUrl:
        type: string
        nullable: true
        description: "Base URL for Seqera AI services. Can be `null` if not configured."
  - target: $["components"]["schemas"]["UpdateParticipantRoleRequest"]["properties"]["role"]
    update:
      type: string
      description: "Workspace participant role to assign."
  - target: $["components"]["schemas"]["UpdateParticipantRoleRequest"]["properties"]["role"]["$ref"]
    remove: true
  - target: $["components"]["schemas"]
    update:
      UpsertUserRequest:
        required:
          - email
          - userName
        type: object
        description: "Request object for creating or updating a user."
        properties:
          userName:
            maxLength: 40
            type: string
            description: "Unique username. Maximum 40 characters."
          email:
            maxLength: 255
            type: string
            format: email
            description: "User email address in valid email format. Maximum 255 characters."
          firstName:
            maxLength: 100
            type: string
            description: "User first name. Maximum 100 characters."
          lastName:
            maxLength: 100
            type: string
            description: "User last name. Maximum 100 characters."
          organization:
            maxLength: 100
            type: string
            description: "User organization name. Maximum 100 characters."
          description:
            maxLength: 1000
            type: string
            description: "User description or bio. Maximum 1000 characters."
          avatar:
            type: string
            description: "User avatar URL."
          avatarId:
            type: string
            description: "User avatar identifier."
          notification:
            type: boolean
            description: "If true, the user has notifications enabled."
  - target: $["components"]["schemas"]
    update:
      UserResponseDto:
        type: object
        description: "User details response object."
        properties:
          id:
            type: integer
            format: int64
            description: "User numeric identifier."
          userName:
            type: string
            description: "Unique username."
          email:
            type: string
            description: "User email address."
          firstName:
            type: string
            description: "User first name."
          lastName:
            type: string
            description: "User last name."
          organization:
            type: string
            description: "User organization name."
          description:
            type: string
            description: "User description or bio."
          avatar:
            type: string
            description: "User avatar URL."
          avatarId:
            type: string
            description: "User avatar identifier."
          notification:
            type: boolean
            description: "If true, the user has notifications enabled."
          termsOfUseConsent:
            type: boolean
            description: "If true, the user has accepted the terms of use."
          marketingConsent:
            type: boolean
            description: "If true, the user has consented to marketing communications."
          lastAccess:
            type: string
            format: date-time
            description: "Timestamp of the user's last access."
          dateCreated:
            type: string
            format: date-time
            description: "Timestamp when the user was created."
          lastUpdated:
            type: string
            format: date-time
            description: "Timestamp when the user was last updated."
          deleted:
            type: boolean
            description: "If true, the user has been deleted."
  - target: $["components"]["schemas"]["WorkflowQueryAttribute"]["enum"]
    update:
      - pipelineVersion
  - target: $["components"]["schemas"]["WorkflowQueryAttribute"]["x-enum-varnames"]
    update:
      - pipelineVersion
  - target: $["components"]["schemas"]["WorkflowQueryAttribute"]["description"]
    update: "Additional workflow attribute to include in query responses. Accepts `pipelineVersion`."
  - target: $["components"]["schemas"]
    update:
      WorkspaceParticipantResponseDto:
        type: object
        description: "Workspace participation details for a team or member."
        properties:
          orgId:
            type: integer
            format: int64
            description: "Organization numeric identifier."
          orgName:
            type: string
            description: "Organization name."
          workspaceId:
            type: integer
            format: int64
            description: "Workspace numeric identifier."
          workspaceName:
            type: string
            description: "Workspace name."
          workspaceFullName:
            type: string
            description: "Workspace full name including organization prefix."
          participantId:
            type: integer
            format: int64
            description: "Participant numeric identifier."
          participantRole:
            type: string
            description: "Participant role within the workspace."
  - target: $["components"]["schemas"]["ParticipantDbDto"]
    remove: true
  - target: $["components"]["schemas"]["UserDbDto"]
    remove: true
  - target: $["components"]["schemas"]["WspRole"]
    remove: true