overlay: 1.0.0
info:
  title: Credentials operations overlay for v1.109.0
  version: 0.0.0
actions:
  # ===== ADD NEW OPERATION =====

  - target: "$.paths"
    update:
      /credentials/{credentialsId}/keys:
        get:
          tags:
          - credentials
          summary: Get encrypted credentials
          description: Retrieves the encrypted keys for the credentials specified by `credentialsId`. The keys are encrypted with the pairing key if provided.
          operationId: GetEncryptedCredentials
          parameters:
          - name: credentialsId
            in: path
            description: Credentials string identifier.
            required: true
            schema:
              type: string
          - name: workspaceId
            in: query
            description: Workspace numeric identifier.
            schema:
              type: integer
              format: int64
          - name: pairingId
            in: query
            description: Encryption key string identifier for encrypting the returned credentials.
            schema:
              type: string
          responses:
            "200":
              description: OK
              content:
                application/json:
                  schema:
                    $ref: "#/components/schemas/GetCredentialsKeysResponse"
            "400":
              description: Bad request
              content:
                application/json:
                  schema:
                    $ref: "#/components/schemas/ErrorResponse"
            "403":
              description: Operation not allowed
          security:
          - BearerAuth: []
