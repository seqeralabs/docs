[[edge_functions]]
  function = "og-generate.png"
  path = "/og-generate.png"

# Redirects for the missing API docs
[[redirects]]
  from = "/platform-api/*"
  to = "https://api-docs-staging.netlify.app/platform-api/:splat"
  status = 200

# Redirects to pages (to resolve 404 bug from platform API pages)
[[redirects]]
  from = "/wave"
  to = "https://docs.seqera.io/wave/"
  status = 301

[[redirects]]
  from = "/multiqc"
  to = "https://docs.seqera.io/multiqc/"
  status = 301

[[redirects]]
  from = "/fusion"
  to = "https://docs.seqera.io/fusion/"
  status = 301

[[redirects]]
  from = "/platform-cloud"
  to = "https://docs.seqera.io/platform-cloud/"
  status = 301

# API Docs branch
[context.redirects-update.environment]
  EXCLUDE_CHANGELOG="1"
  EXCLUDE_PLATFORM_CLOUD="1"
  EXCLUDE_MULTIQC="1"
  EXCLUDE_FUSION="1"
  EXCLUDE_WAVE="1"

# Redirect missing assets (so that we don't lose CSS on the API docs)
# NB: Force is not true, so will use local if available
[[redirects]]
  from = "/assets/*"
  to = "https://seqera-docs-api.netlify.app/assets/:splat"
  status = 200
